COMPILE = vcom
sim: 
	vlib work
	$(COMPILE) -work work ./txt_util.vhd ./iv.vhd ./nd2.vhd ./fa.vhd ./ceillog.vhd ./rca.vhd ./latch.vhd ./reg_generic.vhd ./reg_generic_enabled.vhd ./delay_block.vhd ./TB-delay_block.vhd ./registerfile.vhd ./mux21.vhd ./mux21_generic.vhd ./mux_generic.vhd ./myTypes.vhd ./opcodes.vhd ./log2.vhd ./imm_extender.vhd ./ALU/arithmetic_unit/p4_adder/ha.vhd ./ALU/comparator_generic.vhd ./ALU/arithmetic_unit/p4_adder/pg.vhd ./ALU/arithmetic_unit/p4_adder/pg_network.vhd ./ALU/arithmetic_unit/p4_adder/generator.vhd ./ALU/arithmetic_unit/p4_adder/carryselect_block.vhd ./ALU/arithmetic_unit/p4_adder/carryselect_row.vhd ./ALU/arithmetic_unit/p4_adder/carry_generator.vhd ./ALU/arithmetic_unit/p4_adder/p4_adder.vhd ./ALU/arithmetic_unit/boothmul/booth_encoder.vhd ./ALU/arithmetic_unit/boothmul/boothmul.vhd ./ALU/arithmetic_unit/arithmetic_unit.vhd ./ALU/loadhigh.vhd ./ALU/shifter_generic.vhd ./ALU/logic_unit.vhd ./ALU/DLX_ALU.vhd ./ALU/TB-DLX_alu.vhd ./memory_stage/memory_stage.vhd ./memory_stage/TB-memory_stage.vhd ./ACC.vhd ./IRAM.vhd ./tb_IRAM.vhd ./fetch_stage/BPU/demux_generic.vhd ./fetch_stage/BPU/demux_generic_tb.vhd ./fetch_stage/BPU/bpu_entity.vhd ./fetch_stage/BPU/bht_onerow.vhd ./fetch_stage/BPU/bht_onerow_tb.vhd ./fetch_stage/BPU/bpu_bht.vhd ./fetch_stage/BPU/bpu_taken.vhd ./fetch_stage/BPU/bpu_tb.vhd ./fetch_stage/PC_ACC.vhd ./fetch_stage/fetch_stage.vhd ./fetch_stage/TB-fetch_stage.vhd ./fetch_stage/TB-pc_acc.vhd ./CU/forwarder.vhd ./CU/TB-forwarder.vhd ./CU/CU_HW.vhd ./CU/CU_TestHW.vhd ./DLX_datapath.vhd ./DLX.vhd ./TB_DLX.vhd
	../assembler.bin/dlxasm.pl -o software/test.bin -list software/test.list software/test.asm
	cat software/test.bin | hexdump -v -e '/1 "%02X" /1 "%02X" /1 "%02X" /1 "%02X\n"' > software/test\_dump.txt
	cp software/test\_dump.txt software/test.asm.mem
#./mux_generic_flat.vhd 
